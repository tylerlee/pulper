<div class='box'>
  <form action='convert' method='post'>
    <img src='/images/pulpr-purple.png' class='logo'>
    <label for='content'>Turn your text files into PDFs</label>
    <textarea id='content' name='content' class='hidden'></textarea>
    <div id='drop-zone-wrap'>
      <div id="drop_zone">
        Drop your file here
        <div class='small'>markdown, txt or html</div>
      </div>
    </div>
    <div class='arrow-box'>
      <div class='arrow'></div>
    </div>
    <input id='submit' type='submit' />
  </form>
</div>
<div class='info-box'>
  <h3>Setup your docs</h3>
  <p>By default your doc will be run through a skeleton stylesheet -- but customize the styles and more with some meta info.</p>
  <p>All of the following are optional:</p>
  <pre>
    &lt;!--
      layout: skeleton
      pageWidth: 8.5in
      pageHeight: 11in
      pageMargon: .5in
    --&gt;
  </pre>

  <strong>Layouts:</strong>
  <dl>
    <dt>skeleton [default]</dt>
    <dd>based off the Skeleton css framework</dd>
    <dt>os-dev-doc</dt>
    <dd>for OrgSync dev team technical documentation</dd>
    <dt>none</dt>
    <dd>Renders only your content as a PDF</dd>
  </dl>
  <!-- <a href="https://github.com/tylerlee/pulper">Learn More</a>--></p>
</div>
<footer>
  <small>
    a project by <a href='http://www.tylerjameslee.com'>Tyler</a>
  </small>
</footer>


<script>
  function handleFileSelect(evt) {
    evt.stopPropagation();
    evt.preventDefault();

    var file = evt.dataTransfer.files[0]; // FileList object.
    var reader = new FileReader();

    reader.onloadend = function(evt) {
      if (evt.target.readyState == FileReader.DONE) { // DONE == 2
        document.getElementById('drop-zone-wrap').className = 'loaded';
        document.getElementById('drop_zone').innerHTML = file.name;
        document.getElementById('content').value = evt.target.result;
        document.getElementById('submit').className = 'ready';
      }
    };

    reader.readAsText(file);
  }

  function handleDragOver(evt) {
    evt.stopPropagation();
    evt.preventDefault();
    evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
  }

  // Setup the dnd listeners.
  var dropZone = document.getElementById('drop_zone');
  dropZone.addEventListener('dragover', handleDragOver, false);
  dropZone.addEventListener('drop', handleFileSelect, false);
</script>