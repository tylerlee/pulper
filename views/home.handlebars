<div class='box'>
  <form action='convert' method='post'>
    <h1>Pulper</h1>
    <label for='content'>Turn your files into styled PDFs</label>
    <textarea id='content' name='content' class='hidden'></textarea>
    <div id="drop_zone">
      Drop your file here
      <div class='small'>markdown, txt or html</div>
    </div>
    <div class='arrow-box'>
      <div class='arrow'></div>
    </div>
    <input id='submit' type='submit' />
  </form>
</div>
<div class='info-box'>
  <h3>Setup your docs</h3>
  <p>Use some Pulper comments to customize your file. Pulper comments
  are simple comments at the very top of your file that you can use to 
  specify layout or titles for your pages.</p>
  <pre>&lt;!-- 
title: This the title of your document
layout: this-is-one-of-the-layout-options
--&gt;</pre>
  <h3>Layouts</h3>
  <dl>
    <dt>None<dt>
    <dd>(renders just your file)</dd>
    <dt>Basic</dt>
    <dd>(just a simple OrgSync logo)</dd>
  </dl>
</div>
<footer>
  <small>
    a project by <a href='http://www.tylerjameslee.com'>Tyler</a>
  </small>
</footer>


<script>
  function handleFileSelect(evt) {
    evt.stopPropagation();
    evt.preventDefault();

    var file = evt.dataTransfer.files[0]; // FileList object.
    var reader = new FileReader();

    reader.onloadend = function(evt) {
      if (evt.target.readyState == FileReader.DONE) { // DONE == 2
        document.getElementById('drop_zone').className = 'loaded';
        document.getElementById('drop_zone').innerHTML = file.name;
        document.getElementById('content').value = evt.target.result;
        document.getElementById('submit').className = 'ready';
      }
    };

    reader.readAsText(file);
  }

  function handleDragOver(evt) {
    evt.stopPropagation();
    evt.preventDefault();
    evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
  }

  // Setup the dnd listeners.
  var dropZone = document.getElementById('drop_zone');
  dropZone.addEventListener('dragover', handleDragOver, false);
  dropZone.addEventListener('drop', handleFileSelect, false);
</script>